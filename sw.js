const r="missile-fleet-d1b1b10a5f53",i=["./","./index.html","./manifest.json","./sw.js","./assets/main-BSBv3WQ0.css","./assets/main-BKjA9H3V.js","./assets/icon-192-15dbc4548284.png","./assets/icon-512-bf2d88f1ef98.png","./assets/desktop_1-aa86905a913e.jpg","./assets/mobile_1-1503d0ab528e.jpg"];self.addEventListener("install",e=>{e.waitUntil(caches.open(r).then(a=>Promise.allSettled((i||[]).map(s=>a.add(s).catch(n=>(console.warn(`Failed to precache ${s}:`,n),Promise.resolve()))))).then(()=>self.skipWaiting()))});self.addEventListener("activate",e=>{e.waitUntil(caches.keys().then(a=>Promise.all(a.map(s=>{if(s!==r)return console.log("Deleting old cache:",s),caches.delete(s)}))).then(()=>self.clients.claim()))});self.addEventListener("fetch",e=>{if(e.request.method!=="GET")return;const a=e.request.mode==="navigate"||e.request.destination==="document";e.respondWith((async()=>{const s=await caches.open(r);if(a)try{const t=await fetch(e.request);return t&&t.status===200&&s.put(e.request,t.clone()),t}catch{const t=await s.match(e.request);if(t)return t;const c=await s.match("./");return c||new Response("Offline",{status:503,statusText:"Service Unavailable",headers:new Headers({"Content-Type":"text/plain"})})}const n=await s.match(e.request);if(n)return n;try{const t=await fetch(e.request);return t&&t.status===200&&(t.type==="basic"||t.type==="cors")&&s.put(e.request,t.clone()),t}catch{return new Response("",{status:503,statusText:"Service Unavailable"})}})())});
